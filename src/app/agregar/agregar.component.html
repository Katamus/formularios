<div class="container">
    <form [formGroup]="formularioCreado">
        <div class="form-group">
            <label class="form-label" >Nombre</label>
            <input type="text" class="form-control" formControlName="nombre" >
            <div class="alert alert-danger" role="alert" *ngIf="formularioCreado.controls['nombre'].invalid && formularioCreado.controls['nombre'].dirty" >
                <span *ngIf="formularioCreado.controls['nombre'].errors?.required" >El nombre es requerido </span>
            </div>
        </div>
        <div class="form-group">
            <label class="form-label">Correo</label>
            <input type="text" class="form-control" formControlName="correo" >

            <div *ngIf="formularioCreado.controls['correo'].invalid && formularioCreado.controls['correo'].dirty">
                <div class="alert alert-danger" role="alert" *ngIf="formularioCreado.controls['correo'].errors?.required">
                    El correo es requerido
                </div>
                <div class="alert alert-danger" role="alert" *ngIf="formularioCreado.controls['correo'].errors?.email ">
                    No tiene formato de correo
                </div>
            </div>

            
        </div>
        
        <div class="form-group">
            <label class="form-label" >Contraseña</label>
            <input type="password" class="form-control" formControlName="password" >

            <div *ngIf="formularioCreado.controls['password'].invalid && formularioCreado.controls['password'].dirty">
                <div class="alert alert-danger" role="alert" *ngIf="formularioCreado.controls['password'].errors?.required" >
                    la contraseña es requerida
                </div>
                <div class="alert alert-danger" role="alert" *ngIf="formularioCreado.controls['password'].errors?.minlength">
                    La contraseña debe tener al menos 8 caracteres
                </div>
            </div>
        </div>
        <br>
        <button type="button" *ngIf="esNuevo" [disabled]="!formularioCreado.valid" class="btn btn-primary" (click)="agregar()" >Agregar</button>
        <button type="button" *ngIf="!esNuevo" [disabled]="!formularioCreado.valid" class="btn btn-danger" (click)="editar()" >Editar</button>
    </form>
    <div class="container border "  >
        <div *ngFor="let usuario of usuarios; let posicion = index">
            <h4>{{ usuario.nombre }} tiene la posicion {{posicion}}</h4>
            <p>{{ usuario.correo }}</p>
            <p>{{ usuario.password}}</p>
            <button (click)="editarUsuario(posicion)"  class="btn btn-primary" >Editar</button>
            <button (click)="eliminarUsuario(posicion)"  class="btn btn-danger" >Eliminar</button>
        </div>
    </div>
    
</div>
